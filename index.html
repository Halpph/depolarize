<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Depolarize - Italian Media Directory</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-controls">
                <button id="darkModeBtn" class="control-btn" onclick="toggleDarkMode()" title="Toggle dark mode">
                    <svg class="dark-mode-icon" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/>
                    </svg>
                    <svg class="light-mode-icon" width="20" height="20" fill="currentColor" viewBox="0 0 24 24" style="display: none;">
                        <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/>
                    </svg>
                </button>
                <button id="langBtn" class="control-btn" onclick="toggleLanguage()" title="Change language">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/>
                    </svg>
                    <span id="langText">IT</span>
                </button>
            </div>
            <div class="header-content">
                <div class="title-group">
                    <img src="depolarize.png" alt="Depolarize Logo" class="logo-icon">
                    <h1 id="mainTitle">Depolarize</h1>
                </div>
                <p class="subtitle" id="mainSubtitle">A comprehensive list of Italian media outlets, politicians, and public figures with their social media presence</p>
            </div>
        </header>

        <div class="search-section">
            <div class="search-container">
                <svg class="search-icon" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
                <input type="text" id="search" placeholder="Cerca giornale o politico...">
            </div>
        </div>

        <div class="page-toggle-compact">
            <h2 id="pageTitle">Misinformation Sources</h2>
            <div class="toggle-buttons">
                <button id="misinfoBtn" class="toggle-btn active" onclick="switchPage('misinformation')">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                    </svg>
                    Misinformation Sources
                </button>
                <button id="factualBtn" class="toggle-btn" onclick="switchPage('factual')">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                    </svg>
                    Factual & Reliable Sources
                </button>
            </div>
        </div>

        <div class="filters">
            <div class="filters-left">
                <div class="filter-group compact">
                    <svg class="filter-icon" width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    <select id="typeFilter">
                        <option value="" id="allTypesOption">All Types</option>
                    </select>
                </div>
                <div class="filter-group compact">
                    <svg class="filter-icon" width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/>
                    </svg>
                    <select id="categoryFilter">
                        <option value="" id="allCategoriesOption">All Categories</option>
                    </select>
                </div>
                <div class="filter-badge" id="filterBadge" style="display: none;">
                    <span id="filterCount">0</span> filters applied
                </div>
            </div>
            <button class="reset-filters-btn" id="resetFiltersBtn" style="display: none;">
                <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>
                </svg>
                Reset Filters
            </button>
        </div>

        <div class="cta-section">
            <button class="cta-toggle" onclick="toggleCTA()" title="Toggle call-to-action">▼</button>
            <div class="cta-icon">
                <svg width="28" height="28" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
            </div>
            <div class="cta-content">
                <h3 id="ctaTitle">Take Action for Better Information</h3>
                <p id="ctaText">
                    Consider <strong>unfollowing or being critical of misinformation sources</strong> identified below, and instead <strong>follow factual and reliable sources</strong>. Your media diet shapes your understanding of the world—choose sources that prioritize accuracy and fact-checking.
                </p>
            </div>
        </div>

        <div class="stats">
            <span id="totalCount">Loading...</span>
        </div>

        <div class="table-container">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>#</th>
                        <th id="nameHeader" class="sortable" onclick="sortTable('name')">
                            <span>Name</span>
                            <svg class="sort-icon" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 10l5 5 5-5z"/>
                            </svg>
                        </th>
                        <th id="typeHeader" class="sortable" onclick="sortTable('type')">
                            <span>Type</span>
                            <svg class="sort-icon" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 10l5 5 5-5z"/>
                            </svg>
                        </th>
                        <th id="categoryHeader">Category</th>
                        <th id="descriptionHeader">Description</th>
                        <th id="socialHeader" class="sortable" onclick="sortTable('reliability')">
                            <span>Reliability</span>
                            <svg class="sort-icon" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 10l5 5 5-5z"/>
                            </svg>
                        </th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be inserted here by JavaScript -->
                </tbody>
            </table>
        </div>

        <div class="cards-container" id="cardsContainer">
            <!-- Cards will be inserted here by JavaScript on mobile -->
        </div>

        <div class="pagination-container">
            <div class="pagination-info">
                <label for="pageSize" id="pageSizeLabel">Items per page:</label>
                <select id="pageSize" onchange="changePageSize()">
                    <option value="25">25</option>
                    <option value="50" selected>50</option>
                    <option value="100">100</option>
                    <option value="all">All</option>
                </select>
            </div>
            <div class="pagination-controls">
                <button id="firstPageBtn" onclick="goToPage(1)" title="First page">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"/>
                    </svg>
                </button>
                <button id="prevPageBtn" onclick="goToPage(currentPaginationPage - 1)" title="Previous page">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                    </svg>
                </button>
                <span id="pageInfo" class="page-info">Page 1 of 1</span>
                <button id="nextPageBtn" onclick="goToPage(currentPaginationPage + 1)" title="Next page">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </button>
                <button id="lastPageBtn" onclick="goToPage(totalPages)" title="Last page">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="disclaimer">
            <button class="disclaimer-toggle" onclick="toggleDisclaimer()" title="Toggle disclaimer">▼</button>
            <div class="disclaimer-icon">
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V6h2v6z"/>
                </svg>
            </div>
            <div class="disclaimer-content">
                <p id="disclaimerText">
                    <strong>Disclaimer:</strong> The information in this directory has been gathered from external fact-checking organizations and public sources. The categorizations and reliability scores represent aggregated assessments from these sources and do not reflect my personal judgment. This is an educational resource intended to help users make informed decisions about their media consumption.
                </p>
                <p id="disclaimerContribute">
                    Want to contribute? This is a community-driven project. You can submit corrections or additions via pull request on <a href="https://github.com/Halpph/depolarize" target="_blank">GitHub</a>.
                </p>
            </div>
        </div>
    </div>

    <footer>
        <p id="footerUpdated">Last Updated: January 2025</p>
        <p id="footerSources">Data sources: Fact-checking organizations including Facta.news, Pagella Politica, and BUTAC</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
